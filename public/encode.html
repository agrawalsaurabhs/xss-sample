<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML Encoding Demo - Display as Text</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 16px;
            opacity: 0.9;
        }

        .nav {
            background: #f8f9fa;
            padding: 15px 30px;
            display: flex;
            gap: 15px;
            border-bottom: 2px solid #e0e0e0;
        }

        .nav a {
            text-decoration: none;
            color: #667eea;
            font-weight: 600;
            padding: 8px 16px;
            border-radius: 6px;
            transition: background 0.3s;
        }

        .nav a:hover {
            background: #e0e0e0;
        }

        .nav a.active {
            background: #667eea;
            color: white;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 30px;
        }

        .section h2 {
            color: #333;
            margin-bottom: 15px;
            font-size: 24px;
        }

        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 4px;
        }

        .info-box h3 {
            color: #1976d2;
            margin-bottom: 8px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 600;
        }

        input[type="text"],
        textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
            font-family: inherit;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus,
        textarea:focus {
            outline: none;
            border-color: #f5576c;
        }

        textarea {
            min-height: 150px;
            resize: vertical;
            font-family: 'Courier New', monospace;
        }

        button {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(245, 87, 108, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        .alert {
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
            display: none;
        }

        .alert.success {
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }

        .alert.error {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }

        .result-box {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 6px;
            margin-top: 20px;
            display: none;
        }

        .result-box h3 {
            color: #333;
            margin-bottom: 15px;
        }

        .result-content {
            background: white;
            padding: 15px;
            border-radius: 4px;
            border: 1px solid #dee2e6;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            word-break: break-all;
            max-height: 300px;
            overflow-y: auto;
        }

        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        .comparison-box {
            background: white;
            padding: 15px;
            border-radius: 6px;
            border: 2px solid #e0e0e0;
        }

        .comparison-box h4 {
            color: #555;
            margin-bottom: 10px;
            font-size: 14px;
            text-transform: uppercase;
        }

        .comparison-box .content {
            padding: 10px;
            background: #f8f9fa;
            border-radius: 4px;
            min-height: 100px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
        }

        .dangerous {
            border-color: #dc3545;
        }

        .safe {
            border-color: #28a745;
        }

        .examples {
            background: #fff3cd;
            padding: 20px;
            border-radius: 6px;
            margin-top: 20px;
        }

        .examples h3 {
            color: #856404;
            margin-bottom: 15px;
        }

        .example-item {
            background: white;
            padding: 10px;
            border-radius: 4px;
            margin-bottom: 10px;
            border-left: 4px solid #ffc107;
        }

        .example-item code {
            font-family: 'Courier New', monospace;
            color: #c7254e;
            background-color: #f9f2f4;
            padding: 2px 6px;
            border-radius: 3px;
            display: block;
            overflow-x: auto;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìù HTML Encoding Demo</h1>
            <p>Display HTML as Plain Text (Output Encoding)</p>
        </div>

        <div class="nav">
            <a href="/">Sanitization Demo</a>
            <a href="/encode.html" class="active">Encoding Demo</a>
        </div>

        <div class="content">
            <!-- Alert Messages -->
            <div id="alertBox" class="alert"></div>

            <!-- Info Box -->
            <div class="info-box">
                <h3>üéØ Use Case: Display User Input as Plain Text</h3>
                <p><strong>HTML Encoding</strong> converts special characters to HTML entities so they display as text instead of executing as code. Perfect for comments, usernames, search results, or any scenario where you want to show exactly what the user typed without rendering HTML.</p>
            </div>

            <!-- Input Section -->
            <div class="section">
                <h2>Enter HTML Content</h2>
                <form id="encodeForm">
                    <div class="form-group">
                        <label for="htmlInput">HTML to Encode:</label>
                        <textarea id="htmlInput" name="htmlInput" placeholder="Enter HTML content (including potentially dangerous code)..." required></textarea>
                    </div>
                    <button type="submit">Encode HTML</button>
                </form>

                <!-- Result Box -->
                <div class="result-box" id="resultBox">
                    <h3>Encoded Result (HTML Entities)</h3>
                    <div class="result-content" id="encodedResult"></div>
                    
                    <div class="comparison">
                        <div class="comparison-box dangerous">
                            <h4>‚ùå Without Encoding (Dangerous!)</h4>
                            <div class="content" id="unsafeDisplay"></div>
                        </div>
                        <div class="comparison-box safe">
                            <h4>‚úÖ With Encoding (Safe!)</h4>
                            <div class="content" id="safeDisplay"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Examples -->
            <div class="section">
                <div class="examples">
                    <h3>üí° Try These Examples</h3>
                    <div class="example-item">
                        <strong>Script Tag:</strong>
                        <code>&lt;script&gt;alert('XSS Attack!')&lt;/script&gt;</code>
                    </div>
                    <div class="example-item">
                        <strong>Image with onerror:</strong>
                        <code>&lt;img src=x onerror="alert('XSS')"&gt;</code>
                    </div>
                    <div class="example-item">
                        <strong>JavaScript URL:</strong>
                        <code>&lt;a href="javascript:alert('XSS')"&gt;Click me&lt;/a&gt;</code>
                    </div>
                    <div class="example-item">
                        <strong>HTML Comment:</strong>
                        <code>&lt;p&gt;Hello &lt;!-- malicious comment --&gt; World&lt;/p&gt;</code>
                    </div>
                    <div class="example-item">
                        <strong>Mixed Content:</strong>
                        <code>&lt;h1&gt;Title&lt;/h1&gt;&lt;script&gt;stealCookies()&lt;/script&gt;&lt;p&gt;Text&lt;/p&gt;</code>
                    </div>
                </div>
            </div>

            <!-- Explanation -->
            <div class="section">
                <div class="info-box">
                    <h3>üìö How HTML Encoding Works</h3>
                    <p><strong>Character Mapping:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><code>&lt;</code> becomes <code>&amp;lt;</code></li>
                        <li><code>&gt;</code> becomes <code>&amp;gt;</code></li>
                        <li><code>&amp;</code> becomes <code>&amp;amp;</code></li>
                        <li><code>"</code> becomes <code>&amp;quot;</code></li>
                        <li><code>'</code> becomes <code>&amp;#039;</code></li>
                    </ul>
                    <p style="margin-top: 10px;"><strong>Result:</strong> Browser displays the characters as text instead of interpreting them as HTML tags or JavaScript code.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // HTML encoding function
        function escapeHtml(unsafe) {
            return unsafe
                .replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;")
                .replace(/"/g, "&quot;")
                .replace(/'/g, "&#039;");
        }

        // Show alert message
        function showAlert(message, type) {
            const alertBox = document.getElementById('alertBox');
            alertBox.textContent = message;
            alertBox.className = `alert ${type}`;
            alertBox.style.display = 'block';
            
            setTimeout(() => {
                alertBox.style.display = 'none';
            }, 5000);
        }

        // Handle form submission
        document.getElementById('encodeForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const htmlInput = document.getElementById('htmlInput').value;

            if (!htmlInput.trim()) {
                showAlert('Please enter some HTML content', 'error');
                return;
            }

            // Encode the HTML
            const encoded = escapeHtml(htmlInput);

            // Display results
            document.getElementById('encodedResult').textContent = encoded;
            
            // Unsafe display (for demonstration - in real app, never do this!)
            document.getElementById('unsafeDisplay').innerHTML = htmlInput;
            
            // Safe display using textContent
            document.getElementById('safeDisplay').textContent = htmlInput;

            // Show result box
            document.getElementById('resultBox').style.display = 'block';

            showAlert('‚úì HTML has been encoded successfully!', 'success');
        });

        // Add click handlers for examples
        document.querySelectorAll('.example-item code').forEach(code => {
            code.style.cursor = 'pointer';
            code.addEventListener('click', () => {
                const text = code.textContent;
                document.getElementById('htmlInput').value = text;
                showAlert('Example loaded! Click "Encode HTML" to see the result.', 'success');
            });
        });
    </script>
</body>
</html>
